if(typeof jQuery=="undefined"){throw new Error("El plugin carta_wp necesita la librería jQuery para funcionar.")}(function($){"use strict";var TJ_CartaWp=function(element,options,callback){this.element=null;this.options=null;this.zoomfull="\x3c!--  INICIO - Maquetación al pinchar sobre un item --\x3e\n"+'<div class="card shadow-lg cwp-zoom" id="">\n'+'    <img src="" class="card-img-top cwp-main-image" alt="...">\n'+'    <div class="card-body">\n'+'        <h6 class="card-title cwp-title">Orejas de pollo al ajillo</h6>\n'+'        <p class="card-text text-secondary m-1 cwp-description">Acompañadas de patatas caseras y pimientos.</p>\n'+'        <h6 class="card-text cwp-price">18,50 €</h6>\n'+'        <ul class="list-inline m-0 cwp-alergenos">\n'+'            <li class="list-inline-item"><img src="img/alergenos/altramuces.png" alt=""></li>\n'+'            <li class="list-inline-item"><img src="img/alergenos/apio.png" alt=""></li>\n'+'            <li class="list-inline-item"><img src="img/alergenos/pescado.png" alt=""></li>\n'+'            <li class="list-inline-item"><img src="img/alergenos/gluten.png" alt=""></li>\n'+"        </ul>\n"+"    </div>\n"+"</div>\n"+"\x3c!--  FIN - Maquetación al pinchar sobre un item --\x3e";this.overdark='<div class="cwp-fondo-zoom"></div>';this.init(element,options,callback)};TJ_CartaWp.Defaults={filter:".cwp-categorias li",item:".cwp-item",animation:"scale",callback:null};TJ_CartaWp.prototype.init=function(element,options,callback){this.$element=$(element);this.options=this.getOptions(options);this.filtro(this.options);$("body").prepend(this.zoomfull);$("body").prepend(this.overdark);this.zoom();this.$element.children().addClass(this.options.item.replace(".",""));if(typeof callback=="function"){callback.call(this)}if(typeof this.options.callback=="function"){this.options.callback.call(this)}};TJ_CartaWp.prototype.getDefaults=function(){return TJ_CartaWp.Defaults};TJ_CartaWp.prototype.getOptions=function(options){return $.extend({},this.getDefaults(),options)};TJ_CartaWp.prototype.filtro=function(options){$(document).on("click",options.filter,function(){var $this=$(this);var filtro=$this.attr("data-filter");var $item=$(options.item);if(filtro=="todo"){$this.addClass("cwp-categoria-activa").siblings().removeClass("cwp-categoria-activa");$item.show()}else{if(!$this.hasClass("cwp-categoria-activa")){$this.addClass("cwp-categoria-activa").siblings().removeClass("cwp-categoria-activa");$item.hide();setTimeout(function(){$('[data-f *= "'+filtro+'"]').show();$},600)}}})};TJ_CartaWp.prototype.zoom=function(){var $overdark=$(".cwp-fondo-zoom");var $contenedor_zoom=$(".cwp-zoom");var $imagen_pricipal=$(".cwp-main-image");$(document).on("click",".cwp-single-container",function(){var $contenedor_pequeno=$(this);var src=$contenedor_pequeno.find(".cwp-main-image").attr("src");console.log(src);var $titulo=$contenedor_pequeno.find(".card-title").text();console.log($titulo);$contenedor_zoom.fadeIn();$overdark.fadeIn();$contenedor_zoom.children("cwp-main-image").attr("src",src);console.log($contenedor_zoom.children(".cwp-main-image").attr("src",src))});$.merge($overdark,$contenedor_zoom).on("click",function(){$overdark.fadeOut();$contenedor_zoom.fadeOut()})};var Plugin=function(options,callback){return this.each(function(){options=typeof options=="object"&&options;var data=new TJ_CartaWp(this,options,callback)})};var old=$.fn.filtro_cwp;$.fn.filtro_cwp=Plugin;$.fn.filtro_cwp.Constructor=TJ_CartaWp;$.fn.filtro_cwp.noConflict=function(){$.fn.filtro_cwp=old}})(jQuery);